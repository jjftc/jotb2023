"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const odbc = require("../lib/node-odbc");
const assert = require("assert");
const module = require("./module");
describe("crash", () => {
    //-> not fixed, due to refcounting from v8
    it("executeQuery - throw in callback", (done) => {
        assert.doesNotThrow(() => {
            new odbc.Connection()
                .connect(module.connection[0].connectionString)
                .executeQuery(0 /* eSingle */, (res, err) => {
                throw "lul";
            }, "sel asdf frm tbl001");
        });
    });
    //-> fixed
    it("executeQuery - throw in callback", () => {
        assert.throws(() => {
            new odbc.Connection()
                .connect(module.connection[0].connectionString)
                .executeQuery(0 /* eSingle */, (res, err) => {
                throw "lul";
            }, "sel asdf frm tbl001");
        });
    });
});
